<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<!--    Bootstrap CSS 파일을 링크-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<!--    부트스트랩 JavaScript 파일을 로드-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<!--    부트스트랩에서 제공하는 아이콘-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<!--    Font Awesome Key 값-->
    <script src="https://kit.fontawesome.com/3f84dc55d3.js" crossorigin="anonymous"></script>
<!-- jQuery  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-2"></div>
            <div class="col-8">
                <h3>회원가입 작성 페이지</h3>
                    <form class="border bg-light p-3" method="post" th:action="@{/user/join}" th:object="${userSignupForm}">

                        <div class="form-group mb-3">
                            <label class="form-label">아이디</label>
                            <div class="row">
                                <div class="col-5">
                                    <input type="text" class="form-control" th:field="*{id}" />
                                    <div th:errors="*{id}" class="text-danger"></div>
                                </div>
                                <div class="col-7">
                                    <p class="form-text" style="font-family: Arial, sans-serif; color: grey;">영어 소문자와 숫자만 사용하여 5~20자리여야 합니다.</p>
                                </div>
                            </div>
                        </div>


                        <div class="form-group mb-3">
                            <label class="form-label">비밀번호</label>
                            <div class="row">
                                <div class="col-5">
                                    <input type="password" class="form-control" id="password" th:field="*{password}" />
                                    <div th:errors="*{password}" class="text-danger"></div>
                                </div>
                                <div class="col-7">
                                    <p class="form-text" style="font-family: Arial, sans-serif; color: grey;"> 8~16자 영문 대 소문자, 숫자, 특수문자를 사용하세요.</p>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label class="form-label">비밀번호 확인</label>
                            <div class="row">
                                <div class="col-5">
                                    <input type="password" class="form-control" id="confirmPassword" />
                                </div>
                                <div class="col-7">
                                    <div id="passwordMatchMessage" class="text-danger"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label class="form-label">이름</label>
                            <div class="row">
                                <div class="col-5">
                                    <input type="text" class="form-control" th:field="*{name}" />
                                    <div th:errors="*{name}" class="text-danger"></div>
                                </div>
                                <div class="col-7">
                                    <p class="form-text" style="font-family: Arial, sans-serif; color: grey;">  이름은 한글 2글자 이상 입니다.</p>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label class="form-label">이메일</label>
                            <div class="row">
                                <div class="col-5">
                                    <input type="text" class="form-control" th:field="*{email}" />
                                    <div th:errors="*{email}" class="text-danger"></div>
                                </div>
                                <div class="col-7">
                                    <p class="form-text" style="font-family: Arial, sans-serif; color: grey;"> ex. noreplay@noreplay.com </p>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label class="form-label">주소</label>
                            <div class="row mb-1">
                                <div class="col-4">
                                    <input type="text" id="sample6_postcode" class="form-control"  th:field="*{zipCode}">
                                </div>
                                <div class="col-8">
                                    <input type="button" class="btn btn-secondary" onclick="sample6_execDaumPostcode()" value="우편번호 찾기"><br>
                                </div>
                            </div>
                            <input type="text" id="sample6_address"  th:field="*{address}" placeholder="주소" class="form-control mb-1" >
                            <input type="text" id="sample6_detailAddress"  th:field="*{addressDetail}" placeholder="상세주소" class="form-control">
                        </div>

<!--                        <div class="form-group mb-3">-->
<!--                            <label class="form-label">전화번호</label>-->
<!--                            <div class="row">-->
<!--                                <div class="col-4">-->
<!--                                    <select id="tell_1" name="ArrTel[0]" class="form-select">-->
<!--                                        <option selected value="010">010</option>-->
<!--                                        <option value="011">011</option>-->
<!--                                        <option value="017">017</option>-->
<!--                                    </select>-->
<!--                                </div>-->
<!--                                <div class="col-4">-->
<!--                                    <input type="text" class="form-control" id="tell_2" name="ArrTel[1]">-->
<!--                                </div>-->
<!--                                <div class="col-4">-->
<!--                                    <input type="text" class="form-control" id="tell_3" name="ArrTel[2]">-->
<!--                                </div>-->
<!--                                <div th:errors="*{ArrTel}" class="text-danger"></div>-->
<!--                            </div>-->
<!--                        </div>-->


                        <div class="form-group mb-3">
                            <label class="form-label">전화번호</label>
                            <input type="text" class="form-control" th:field="*{tel}" />
                            <div th:errors="*{tel}" class="text-danger"></div>
                        </div>

                        <div class="text-end">
                            <button type="submit" class="btn btn-dark">회원가입</button>
                            <a class="btn btn-secondary" href="../">취소</a>
                        </div>
                    </form>
                    <br><br>
            </div>
        <div class="col-2"></div>
    </div>
</div>


</body>
<!--  카카오 MAP API 시작 -->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>
    function sample6_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('sample6_postcode').value = data.zonecode;
                document.getElementById("sample6_address").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("sample6_detailAddress").focus();
            }
        }).open();
    }
</script>
<!--  카카오 MAP API 끝-->

<!-- 비밀번호 , 확인비밀번호 일치 여부 -->
<script>
    $(document).ready(function() {
        $('#password, #confirmPassword').on('keyup', function () {
            let password = $('#password').val();
            let confirmPassword = $('#confirmPassword').val();

            if (password !== '' && confirmPassword !== '') {
                if (password !== confirmPassword) {
                    $('#passwordMatchMessage').text('비밀번호가 일치하지 않습니다.');
                } else {
                    $('#passwordMatchMessage').text('비밀번호가 일치합니다.');
                }
            } else {
                $('#passwordMatchMessage').text('');
            }
        });
    });

</script>

</html>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.bookhub.product.mapper.CartMapper">

    <resultMap type="com.example.bookhub.product.dto.CartBookDto" id="CartListResultMap">
        <id column="book_no" property="no"/>
        <result column="title" property="title"/>
        <result column="price_sales" property="priceSales"/>
        <result column="price_standard" property="priceStandard"/>
        <result column="cover" property="cover"/>
        <result column="category_name" property="categoryName"/>
        <result column="count" property="count"/>
    </resultMap>

    <select id="findCartList" parameterType="long" resultMap="CartListResultMap">
        select
            B.book_no, B.title, B.price_sales, B.price_standard, B.cover, B.category_name, C.count
        from
            CART C, BOOK B
        where
            C.user_no = #{value}
            and C.book_no = B.book_no
    </select>


</mapper>